machine:
  services:
    - docker

dependencies:
  override:
    - docker build --rm=false -t base_ubuntu_16.10 .
    - docker run -d t base_ubuntu_16.10 ls
    - docker run -d t base_ubuntu_16.10 bash setup_ubuntu.sh
    - sudo add-apt-repository -y ppa:george-edison55/cmake-3.x
    - ./setup_ubuntu.sh

test:
  pre:
    - mkdir build && pushd build && cmake .. && make && popd
  override:
    - cd build && make test

